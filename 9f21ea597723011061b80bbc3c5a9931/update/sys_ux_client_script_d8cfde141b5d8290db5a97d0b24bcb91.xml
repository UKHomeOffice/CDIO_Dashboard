<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ux_client_script">
    <sys_ux_client_script action="INSERT_OR_UPDATE">
        <controller_preset/>
        <includes/>
        <macroponent display_value="HO Product Performance Table default">278faed57763011061b80bbc3c5a99c6</macroponent>
        <name>showVerticalAMetric1Change</name>
        <preset/>
        <required_translations>[
    
]</required_translations>
        <script><![CDATA[/**
* @param {params} params
* @param {api} params.api
* @param {any} params.event
* @param {any} params.imports
* @param {ApiHelpers} params.helpers
*/
function handler({api, event, helpers, imports}) {
    var arr_lm = [];
    var arr_cm = api.state.verticalAMetric1ShowHealth;
    var results = api.data.verticalA_headlinemetric1.output.result;
    var clientStateParameter = 'verticalAMetric1ShowChange';

    for (let i = 0; i < results.length; i++) {
        var value_lm = results[i].scores[1].value;
        if (value_lm<24 && value_lm>0) {
            arr_lm.push('green');
        } else if (value_lm>=24 && value_lm<=24*7) {
            arr_lm.push('amber');
        } else if (value_lm>24*7){
            arr_lm.push('red');
        } else {
            arr_lm.push('');
        }
    }

    const arr_change = [];

    for (let i = 0; i < arr_cm.length; i++) {
        const current = arr_cm[i];
        const last = arr_lm[i];
        if (current === '' || last === '') {
            arr_change.push('');
        } else if (current === last) {
            arr_change.push('same');
        } else if ((current === 'green' && last === 'amber') || 
                   (current === 'amber' && last === 'red') ||
                   (current === 'green' && last === 'red')) {
            arr_change.push('better');
        } else {
            arr_change.push('worse');
        }
    }

    api.setState(clientStateParameter, arr_change);
}]]></script>
        <script_api_version>2.0.0</script_api_version>
        <sys_class_name>sys_ux_client_script</sys_class_name>
        <sys_created_by>VelentL</sys_created_by>
        <sys_created_on>2024-03-28 14:37:54</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>d8cfde141b5d8290db5a97d0b24bcb91</sys_id>
        <sys_mod_count>15</sys_mod_count>
        <sys_name>showVerticalAMetric1Change</sys_name>
        <sys_package display_value="CIO Dashboard" source="sn_ciodashboard">9f21ea597723011061b80bbc3c5a9931</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="CIO Dashboard">9f21ea597723011061b80bbc3c5a9931</sys_scope>
        <sys_update_name>sys_ux_client_script_d8cfde141b5d8290db5a97d0b24bcb91</sys_update_name>
        <sys_updated_by>VelentL</sys_updated_by>
        <sys_updated_on>2024-05-29 09:16:41</sys_updated_on>
        <target>macroponent</target>
        <type>default</type>
    </sys_ux_client_script>
    <sys_claim action="INSERT_OR_UPDATE">
        <claim_owner_scope display_value="CIO Dashboard">9f21ea597723011061b80bbc3c5a9931</claim_owner_scope>
        <claim_timestamp>18e85a3624f0000001</claim_timestamp>
        <metadata_update_name>sys_ux_client_script_d8cfde141b5d8290db5a97d0b24bcb91</metadata_update_name>
        <previous_claim_app_version>1.0.5</previous_claim_app_version>
        <previous_claim_name>CIO Dashboard</previous_claim_name>
        <previous_claim_scope>9f21ea597723011061b80bbc3c5a9931</previous_claim_scope>
        <sys_created_by>VelentL</sys_created_by>
        <sys_created_on>2024-03-28 15:17:41</sys_created_on>
        <sys_id>37e0fed81b5dc290db5a97d0b24bcbfd</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>VelentL</sys_updated_by>
        <sys_updated_on>2024-03-28 15:17:41</sys_updated_on>
    </sys_claim>
</record_update>
